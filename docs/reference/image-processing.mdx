# Image processing

In a typical Solidus store, you can upload images for products and taxons.

Under the hood, Solidus will use a different file processing library depending on the Rails
version: [Active Storage](https://edgeguides.rubyonrails.org/active_storage_overview.html) is the
default starting from Rails 6.1,
while [Paperclip](https://github.com/thoughtbot/paperclip#paperclip) is used in earlier versions.

:::caution
Active Storage cannot be used in Rails 6.0 or earlier because it doesn't support public URLs, which
Solidus needs to serve images to your users. If you're on Rails 6.0 or earlier, you _have_ to use
Paperclip.
:::

While Paperclip is deprecated and will be removed in the near future, Solidus provides a
compatibility layer that abstracts the differences between the two libraries, in order to offer an
easier migration path to existing Paperclip users.

## Image styles

By default, Solidus uses the following sizes for images:

* `mini`: 48x48
* `small`: 400x400
* `product`: 680x680
* `large`: 1200x1200

You can access the URL for a specific sizes by calling, e.g. `Spree::Image#url`:

```ruby
image = Spree::Image.first
image.url(:product)
```

You can also use the styles in the `image` partial:

```erb
<%= render 'spree/admin/shared/image', image: product.gallery.images.first, size: :large %>
```
