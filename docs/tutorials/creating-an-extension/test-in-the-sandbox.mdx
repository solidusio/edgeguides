---
sidebar_position: 3
---

# Test in the sandbox

Because extensions are Rails engines, they can't be previewed as easily as we'd do when customizing
our main app: there's no underlying Rails/Solidus application to run the extension. You could
install your extension in an existing Solidus app and preview it there, but this can be slow and
cumbersome, especially when you're still actively working on the extension.

Luckily, `solidus_dev_support` provides a Rake task we can run to generate a "sandbox app", i.e. a
barebones Rails + Solidus application with our extension already installed and configured. The
sandbox app is extremely useful in extension development, and it's important to learn to make the
best of it.

To generate the sandbox app, simply run the following command:

```
$ bin/sandbox
```

The generation might take a couple of minutes, so sit tight and relax! The process will also ask you
a few times whether migrations should be run immediately or manually at a later stage â€” you want to
run them immediately, which is also the default selection. This will save you a few seconds of work.

Once the process has been completed, you'll find a new `sandbox` directory at the root of your
extension. This contains your new shiny sandbox app. Your extension has already been installed and
configured inside the app: try looking for the `config/initializers/solidus_acme_fulfillment.rb`
initializer.

:::caution

The sandbox app is ephemeral and intended for development/test purposes only: the sandbox path is
ignored by Git, so any changes you make here will be lost permanently if you remove the `sandbox`
directory.

:::

`solidus_dev_support` also allows you to run commands in your sandbox app from the root of your
extension, just as you would do with a regular Rails application. Try spinning up a Rails server:

```
$ bin/rails server
```

This should boot your sandbox app and serve it at [http://localhost:3000](http://localhost:3000), so
that you can preview your extension as you work on it!

:::info

All `rails` commands will be delegated to the sandbox app.

One exception is the `rails g` /`rails generate` command, which will be run in your extension (since
that's usually the intended behavior). If you need to run a generator in the sandbox app, you'll
have to first `cd` into the `sandbox` directory.

As an alternative, you can use `bin/rails-engine` and `bin/rails-sandbox` to force a command to run
in the engine or in the sandbox respectively.

:::
