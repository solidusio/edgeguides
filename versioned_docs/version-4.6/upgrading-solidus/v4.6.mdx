---
sidebar_position: -4.6
---

import MinimalRequirements from '@site/src/theme/MinimalRequirements';

# Solidus v4.6 (2025-09-09)

<MinimalRequirements ruby="3.1" rails="7.0" />

We're excited to announce the release of Solidus v4.6.0, packed with improvements across all components of the framework. This release focuses on enhanced email handling, reverse charge VAT support, improved admin UI components, and better Rails compatibility.

## üöÄ Key Highlights

### Event-Driven Email System
This release introduces a major refactor of the email system, moving from coupled mailer calls to a flexible event subscriber pattern:

- **New Order Events**: Added comprehensive order lifecycle events for better extensibility
- **Configurable Email Subscribers**: Email sending is now handled by configurable event subscribers, making it easier to customize or replace email behavior
- **Separated Mailer Logic**: Order confirmation, shipping notifications, and cancellation emails are now handled by dedicated subscribers

### Reverse Charge VAT Support
Added comprehensive support for EU reverse charge VAT requirements:

- **Store Configuration**: New reverse charge status field for stores
- **Address Integration**: Reverse charge fields added to address handling
- **API Support**: Full API coverage for reverse charge functionality

### Enhanced Admin UI Components
Significant improvements to the modern Solidus Admin interface:

- **New Select Component**: Improved performance and UX for dropdown selections
- **Alert Component**: New alert system for better user feedback
- **Refactored Address Forms**: Cleaner, more maintainable address input components
- **Table Improvements**: Fixed sorting functionality and better semantic markup

## üì¶ Component Updates

### Solidus Core
- **Migration Improvements**: All migrations can now be properly rolled back
- **Rails Compatibility**: Better support for multiple Rails versions with proper migration inheritance
- **Database Relations**: Enhanced addressbook with proper foreign keys and associations
- **Logging**: Replaced `puts` statements with proper Rails logging throughout tasks and generators

### Solidus Admin
- **UI Performance**: Optimized select component performance for large datasets
- **Component Library**: New reusable UI components (Alert, improved Select)
- **Form Handling**: Better textarea support and form validation
- **Lookbook Integration**: Fixed installation issues for component documentation

### Solidus Backend
- **Payment Refunds**: Fixed critical issue with refunding uncompleted payments
- **AJAX Performance**: Added intelligent 500ms delay for Select2 AJAX requests to reduce server load

### Solidus API
- **Helper Refactoring**: Improved user role and authentication helper methods
- **Performance**: Better caching for current API user lookups

### Solidus Promotions
- **New Calculator**: Added PercentWithCap calculator for more flexible discount options
- **Localization**: Improved calculator label translations using Rails i18n
- **Flickwerk Integration**: Better patch management in initializers

## üîß Technical Improvements

### Testing & Development
- **Browser Testing**: Migrated from Chrome to Firefox for more stable system specs
- **Flaky Test Fixes**: Resolved numerous intermittent test failures
- **Linting**: Improved code quality with updated linting rules

### Dependencies

- **Updated ImportMap Rails**: Upgraded to v2 for better asset management
- **Migration Standards**: Enforced consistent migration versioning across the framework

## üêõ Bug Fixes

- Fixed typos throughout the codebase ([#6207](https://github.com/solidusio/solidus/pull/6207))
- Resolved currency display issues in admin order listings ([#5929](https://github.com/solidusio/solidus/pull/5929))
- Fixed metadata migration compatibility with custom user classes ([#6157](https://github.com/solidusio/solidus/pull/6157))
- Corrected form tag closure issues in table components ([#6172](https://github.com/solidusio/solidus/pull/6172))
- Improved deprecation warning messages for better developer experience ([#6163](https://github.com/solidusio/solidus/pull/6163))
- Fixed documentation comments to reflect default settings ([#6171](https://github.com/solidusio/solidus/pull/6171))

## üîÑ Breaking Changes

- Email sending behavior has changed from direct mailer calls to event subscribers. While backward compatible, custom email logic may need updates
- Migration version enforcement may require attention if you have custom migrations with incorrect versions
- Some internal API helper methods have been refactored (primarily affects custom API extensions)

## üìà What's Next

This release sets the foundation for more flexible email handling and better internationalization support. The event-driven architecture opens up new possibilities for customization and third-party integrations.

---

For the complete list of changes, see the [full changelog](https://github.com/solidusio/solidus/compare/v4.5.0...v4.6.0).

**Upgrade today** to take advantage of these improvements and new features!
